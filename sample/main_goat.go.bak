package main

import (
	"github.com/tmr232/goat"
	"github.com/tmr232/goat/flags"
	"github.com/urfave/cli"
)

func init() {

	goat.Register(app, goat.RunConfig{
		Flags: []cli.Flag{
			flags.MakeFlag[string]("name", "The name to greet", nil).AsCliFlag(),
			flags.MakeFlag[bool]("bye", "say goodbye", nil).AsCliFlag(),
			flags.MakeFlag[*string]("question", "question to ask", nil).AsCliFlag(),
			flags.MakeFlag[int]("times", "number of repetitions", 1).AsCliFlag(),
		},
		Action: func(c *cli.Context) error {
			return app(
				flags.GetFlag[string](c, "name"),
				flags.GetFlag[bool](c, "bye"),
				flags.GetFlag[*string](c, "question"),
				flags.GetFlag[int](c, "times"),
			)
		},
	})

}
